
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>VoigtFit Parameter Language &#8212; VoigtFit 0.9.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="VoigtFit Interface" href="api.html" />
    <link rel="prev" title="Installation" href="install.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="voigtfit-parameter-language">
<h1>VoigtFit Parameter Language<a class="headerlink" href="#voigtfit-parameter-language" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The telluric template was obtained from ESOs <a class="reference external" href="http://www.eso.org/observing/etc/skycalc">skycalc</a>.</p>
<p>The dataset is first initiated with data defined through a “data” statement. This sets the spectral resolution. If the spectral resolution subsequently needs to be changed, this should be done using a “resolution” statement.</p>
<p>The transitions that should be fitted are then defined through “lines” statements and the component structure is defined through “component” statements (see also “copy component” and “delete component”). Note that components must be defined for all the ions that are defined in the “lines” statements.</p>
<p>If the data are not already normalized, and the chebyshev polynomial fitting has been turned off (see ‘C_order’ below), a window for each line fitting region will pop up allowing the user to normalize the data by selecting a left and right continuum region. This will fit a straight line to the continuum and normalize the region. Alternatively, the user can specify a ‘norm_method’ = spline to select a set of spline points used for the continuum estimation.</p>
<p>After the continuum normalization is done, the user can define spectral masks for each line fitting region. For each region, the user must select left and right boundaries by clicking with the mouse in the plotting window. This will mask out the region in between the two boundaries, and the data in the masked region will therefore not be used in the fit. The user can define as many masked ranges as desired. When the masking for a given line is done, the user must confirm the mask by clicking enter in the terminal. Note that if an uneven number of boundaries are given, the ranges are invalid and the user must select the ranges again.
The masking step can be skipped by including the ‘nomask’ statement in the parameter file. Or can be run for individual lines by using the ‘mask’ statement.</p>
<p>Lastly, the fit will be performed and the resulting best-fit parameters will be printed to the terminal. If the “save” statement is given in the parameter file, the parameters will also be saved to a file and the resulting best-fit profiles will be saved to a pdf file. Otherwise, the best-fit solution is plotted in an interactive window.</p>
<p class="last">If the “abundance“ or “metallicity” statements are given, the total abundance for each element or its metallicity relative to Solar is printed to the terminal.</p>
</div>
<p>The parameter language allows the user to define parameters without using python scripting
which has a slightly more complex syntax. There are a few general rules for the parameter language:</p>
<blockquote>
<div><p>Everything that comes after a <cite>#</cite> sign is regarded as a comment and is not parsed.</p>
<p>The number of spaces in a given line between parameters and values is not important.</p>
<p>The order of the statements is not important either. This will be handled by the program
at runtime, so you can freely arrange the parameter file as you see fit.</p>
<p>All optional arguments below are stated in square brackets.</p>
<p>Double underscores below indicate an optional keyword argument to be given by the user.</p>
</div></blockquote>
<div class="section" id="the-basics">
<h2>The Basics<a class="headerlink" href="#the-basics" title="Permalink to this headline">¶</a></h2>
<p>In the following the basic and mandatory statements are presented.
If these are not present in the parameter file, or if their values are
not understood, the program will cause an error.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A parameter file template can be created in your working directory
by running <code class="docutils literal notranslate"><span class="pre">VoigtFit</span></code> with no arguments.</p>
</div>
<p>The first part of the parameter file usually defines a bit of metadata for the dataset.
However, as stated above, the ordering of the statements is not important.</p>
<p>The available statements that can be included in the parameter file will be presented
in detail in the following.</p>
<div class="section" id="name">
<h3>Name<a class="headerlink" href="#name" title="Permalink to this headline">¶</a></h3>
<p><strong>name :  dataset_name</strong></p>
<blockquote>
<div><em>dataset_name</em> gives the name of the dataset.
The dataset is automatically saved (as <em>‘dataset_name.hdf5’</em>),
and if a dataset of the given name is present, it will be loaded automatically.</div></blockquote>
</div>
<div class="section" id="save">
<h3>Save<a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h3>
<p><strong>save : [ filename ]</strong></p>
<blockquote>
<div><em>filename</em> is the filename used for the graphic output and for parameter output.
If no filename is given, the dataset <cite>name</cite> attribute will be used.
The graphic output will be saved in pdf format and the parameter files will be saved as ascii files:
The best-fit parameters will be saved to <cite>filename.fit</cite> and the best-fit continuum parameters
will be saved to <cite>filename</cite>.cont.</div></blockquote>
</div>
<div class="section" id="z-sys">
<h3>z_sys<a class="headerlink" href="#z-sys" title="Permalink to this headline">¶</a></h3>
<p><strong>z_sys :  z_sys</strong></p>
<blockquote>
<div><em>z_sys</em> gives the systemic redshift of the absorption system.
Relative velocities are calculated with respect to this redshift.</div></blockquote>
</div>
<div class="section" id="data">
<h3>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<p><strong>data  filename  resolution  [ norm   air ]</strong></p>
<blockquote>
<div><p><em>filename</em> specifies the path to the spectrum
(should be an ASCII table with up to four columns: wavelength, flux, error, mask).</p>
<p><em>resolution</em>  is the spectral resolution of the given spectrum in units of km/s.</p>
</div></blockquote>
<p>Optional arguments:</p>
<blockquote>
<div><p><em>norm</em> : if present in the line, this indicates that the spectrum in filename are normalized.</p>
<p><em>air</em> : if present, the wavelengths in the spectrum will be converted from air to vacuum.</p>
</div></blockquote>
<div class="topic">
<p class="topic-title first">Example</p>
<p><code class="docutils literal notranslate"><span class="pre">data</span>&#160; <span class="pre">'J2350-0052_uvb.tab'</span>&#160; <span class="pre">40.</span>&#160; <span class="pre">air</span></code></p>
<blockquote>
<div>This will load the data from the file named ‘J2350-0052_uvb.tab’,
convert the wavelength column from air to vacuum, and assign
a spectral resolution of 40 km/s.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">data</span>&#160; <span class="pre">&quot;norm_data/norm_2350-0052_vis.tab&quot;</span>&#160; <span class="pre">32.7</span>&#160; <span class="pre">norm</span></code></p>
<blockquote>
<div>This will load the data from the file named ‘norm_2350-0052_vis.tab’
in the directory ‘norm_data’ and assign a spectral resolution of 32.7 km/s.
The keyword ‘norm’ is present, so the data will be marked as normalized,
and no interactive normalization will therefore pop up during data preparation.</div></blockquote>
</div>
</div>
<div class="section" id="lines">
<h3>Lines<a class="headerlink" href="#lines" title="Permalink to this headline">¶</a></h3>
<p><strong>lines  line_tags  [ velspan=__ ]</strong></p>
<blockquote>
<div><em>line_tags</em> can be a single line or multiple lines separated by blank spaces.
The line tag should match a line in the line-list, e.g., FeII_2374, SiII_1526,
or HI_1215. For the Lyman series of hydrogen and deuterium, the following
notation is also accepted: HI_1 for the Ly-alpha, HI_3 for Ly-gamma, and so on.</div></blockquote>
<p>Optinal arguments:</p>
<blockquote>
<div><em>velspan</em> : the value after the equal-sign is taken as the velocity
span in km/s around each line to be defined as a fitting region.
The default span is 500 km/s.</div></blockquote>
<div class="topic">
<p class="topic-title first">Example</p>
<p><code class="docutils literal notranslate"><span class="pre">lines</span>&#160; <span class="pre">FeII_2260</span>&#160; <span class="pre">FeII_2374</span>&#160; <span class="pre">SiII_1808</span>&#160; <span class="pre">HI_1215</span></code></p>
<blockquote>
<div>This will define the two singly ionized iron transitions at 2260 and 2374Å
together with the singly ionized silicon transition at 1808Å and the Ly-alpha line.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">lines</span> <span class="pre">FeII_2374</span>&#160; <span class="pre">SiII_1808</span></code></p>
<blockquote>
<div>This will define the iron and silicon lines with default velocity spans.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">lines</span> <span class="pre">HI_1</span>&#160; <span class="pre">HI_2</span>&#160; <span class="pre">velspan=5000</span></code></p>
<blockquote>
<div>This will define the Ly-α and Ly-β lines with a larger 5000 km/s velocity span.</div></blockquote>
</div>
</div>
<div class="section" id="fine-structure-lines">
<h3>Fine-structure Lines<a class="headerlink" href="#fine-structure-lines" title="Permalink to this headline">¶</a></h3>
<p><strong>fine-lines  ground_state  [ levels  velspan=__ ]</strong></p>
<blockquote>
<div><p><em>ground_state</em> refers to the line identifier for the ground state transition
of the line complex, e.g., ‘CI_1656’.</p>
<p>This statement, if present in the parameter file, will define all the corresponding
transitions for the given levels of related to the given ground state. At the moment,
these line complexes are only defined for neutral carbon (CI) and its two fine-structure
levels.</p>
</div></blockquote>
<p>Optional arguments:</p>
<blockquote>
<div><p><em>levels</em> : indicates which excited fine-structure levels to include.
This should be given as a space separated list of letters: ‘a’ for the first excited level (J=1),
‘b’ for the second excited level (J=2), etc.
By default, all fine-structure levels will be included.</p>
<p><em>velspan</em> : the value after the equal-sign is taken as the velocity
span in km/s around each line to be defined as a fitting region.
The default span is 500 km/s.</p>
</div></blockquote>
<div class="topic">
<p class="topic-title first">Example</p>
<p><code class="docutils literal notranslate"><span class="pre">fine-lines</span>&#160; <span class="pre">CI_1560</span></code></p>
<blockquote>
<div>This will define all the transitions of CI, CI<sup>*</sup> and CI<sup>**</sup> related to the
ground state of the 2s<sup>2</sup> 2p<sup>2</sup>  <sup>3</sup>P -&gt;
2s 2p<sup>3</sup>  <sup>3</sup>D line complex at 1560 Å.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">fine-lines</span>&#160; <span class="pre">CI_1328</span>&#160; <span class="pre">a</span></code></p>
<blockquote>
<div>This will only define the transitions of the ground state and the first excited
fine-structure level (<em>J=1</em>) of the 2s<sup>2</sup> 2p<sup>2</sup>  <sup>3</sup>P -&gt;
2s 2p<sup>3</sup>  <sup>3</sup>P line complex at 1328 Å.</div></blockquote>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="red admonition important">
<p class="first admonition-title">Important</p>
<p>Components have to be defined manually for the fine-structure levels.
For this case, the <em>ion</em> to reference for the excited levels is the ground state ion
(in the example above ‘CI’) with the lower case letter to designate the level, see the
optional argument <em>levels</em>. So for the first fine-structure level of ‘CI’ the <em>ion</em>
would be ‘CIa’.</p>
<p class="last">For more details, see the section <a class="reference internal" href="#add-components">add components</a> below.</p>
</div>
</div>
<div class="section" id="add-molecules">
<h3>Add Molecules<a class="headerlink" href="#add-molecules" title="Permalink to this headline">¶</a></h3>
<p><strong>molecule  element  bands  [ J=__  velspan=__ ]</strong></p>
<blockquote>
<div><p><em>element</em> refers to the molecule to be fitted, for now only CO and H2 are defined
in the database.</p>
<dl class="docutils">
<dt><em>bands</em> designates a list of vibrational bands for the given molecule.</dt>
<dd><p class="first">For CO: the A(ν) -&gt; A(0) bands for ν up to ν=11, the C(0) -&gt; X(0) band, the d(5) -&gt; X(0)
and e(1) -&gt; X(0). The bands are referred to as AX(ν-0), CX(0-0), dX(5-0), and eX(1-0).</p>
<p class="last">For H<sub>2</sub>: the Lyman bands B(ν) -&gt; X(0) for ν up to ν=19 (BX(ν-0)) and Werner bands
C(ν) -&gt; X(0) for ν up to ν=5 (CX(ν-0)).</p>
</dd>
</dl>
</div></blockquote>
<p>Optional arguments:</p>
<blockquote>
<div><p><em>J</em> : the upper rotational level to include for the given bands.
All rotational levels from <em>J=0</em> up to (and including) <em>J</em> will be included.
For CO the maximum <em>J</em> level included in the database is <em>J=4</em>, for H<sub>2</sub> this is <em>J=7</em>.
The default value is <em>J=1</em>.</p>
<p><em>velspan</em> : the value after the equal-sign is taken as the velocity
span in km/s around each line to be defined as a fitting region.
The default span is 500 km/s.</p>
</div></blockquote>
<div class="topic">
<p class="topic-title first">Example</p>
<p><code class="docutils literal notranslate"><span class="pre">molecule</span> <span class="pre">H2</span>&#160; <span class="pre">BX(0-0)</span>&#160; <span class="pre">BX(1-0)</span>&#160; <span class="pre">BX(2-0)</span>&#160; <span class="pre">J=5</span></code></p>
<blockquote>
<div>This will define the rotational levels up to <em>J=5</em> for the three lowest vibrational
Lyman bands of H<sub>2</sub>.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">molecule</span> <span class="pre">CO</span>&#160; <span class="pre">AX(0-0)</span>&#160; <span class="pre">AX(1-0)</span>&#160; <span class="pre">J=4</span>&#160; <span class="pre">velspan=120</span></code></p>
<blockquote>
<div>This will define the rotational levels up to <em>J=4</em> for the two lowest vibrational bands of CO.</div></blockquote>
</div>
</div>
<div class="section" id="add-components">
<h3>Add Components<a class="headerlink" href="#add-components" title="Permalink to this headline">¶</a></h3>
<p><strong>component  ion  z  b  logN  [ var_z=True/False  var_b=True/False  var_N=True/False
tie_z=__  tie_b=__  tie_N=__  velocity]</strong></p>
<p>alt.: component  ion  z=__  b=__  logN=__  [ var_z=True/False  var_b=True/False  var_N=True/False
tie_z=__  tie_b=__  tie_N=__  velocity]</p>
<blockquote>
<div><p><em>ion</em> specifies for which ion the component should be defined, e.g., FeII, SiII.</p>
<p><em>z</em> gives the redshift of the component.</p>
<p><em>b</em> gives the broadening parameter of the given component.</p>
<p><em>logN</em> gives the 10-base logarithm of the column density for the given component in cm<sup>-2</sup>.</p>
<p>Note: The order of the values of z, b, logN must be followed, unless the are given
as keyword arguments, i.e., logN=__  z=__  b=__</p>
</div></blockquote>
<p>Optional arguments:</p>
<blockquote>
<div><p>Parameters which should be kept fixed can be set by the optional arguments <em>fix_z</em> for redshift,
<em>fix_b</em> for broadening parameter, and <em>fix_N</em> for column density.
These are passed as keyword values which are either <em>True</em> or <em>False</em>, the default is <em>False</em>.</p>
<p>Parameters for different components and ions can be tied to each other using the
<em>tie_z</em>, <em>tie_b</em>, <em>tie_N</em> options. This is mostly used to tie redshifts or broadening parameters
for different species.
The parameters are tied using the following naming convention:
the name of a given parameter is made up by the <em>base</em> (which is either ‘z’, ‘b’, or ‘logN’),
the component <em>number</em> (starting from 0), and the <em>ion</em> (e.g., FeII).
The <em>base</em> and <em>number</em> are joined together with no spaces in between,
and the <em>ion</em> is appended with an underscore (‘_’) as in between; e.g., ‘z0_FeII’ for the first
component of FeII.</p>
<p><em>velocity</em> : if this keyword is included, the first argument (or z=) will be interpreted
as a velocity offset relative to <em>z_sys</em>.</p>
</div></blockquote>
<div class="topic">
<p class="topic-title first">Example</p>
<p><code class="docutils literal notranslate"><span class="pre">component</span>&#160; <span class="pre">FeII</span>&#160; <span class="pre">1.957643</span>&#160; <span class="pre">7.0</span>&#160; <span class="pre">14.5</span>&#160; <span class="pre">var_z=False</span></code></p>
<blockquote>
<div>This will define a component for FeII at z=1.957643 with <em>b</em> = 7.0 km/s and a column density
of 10<sup>14.5</sup> cm<sup>-2</sup>. The redshift will no be varied during the fit.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">component</span>&#160; <span class="pre">SiII</span>&#160; <span class="pre">-109.5</span>&#160; <span class="pre">7.0</span>&#160; <span class="pre">16.0</span>&#160; <span class="pre">tie_b='b0_FeII'</span> <span class="pre">velocity</span></code></p>
<blockquote>
<div>This will define a component for SiII at a relative velocity of -109.5 km/s
with <em>b</em> = 7.0 km/s and a column density 10<sup>16.0</sup>.
The <em>b</em>-parameter will be tied to the first component defined for <em>FeII</em>.</div></blockquote>
</div>
</div>
<div class="section" id="interactive-components">
<h3>Interactive Components<a class="headerlink" href="#interactive-components" title="Permalink to this headline">¶</a></h3>
<p><strong>interactive  line_tags</strong></p>
<blockquote>
<div><em>line_tags</em> can be a single line or multiple lines separated by blank spaces or commas.
The line tag should match a line in the line-list, e.g., FeII_2374, SiII_1526.
The line tag must be defined in the dataset (using the <code class="docutils literal notranslate"><span class="pre">lines</span></code> statement).</div></blockquote>
<p>This command will activate the interactive window for defining components for the given lines.
Notice that this will overwrite any other components defined previously for this element.</p>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Give example screenshot here!</p>
</div>
</div>
<div class="section" id="copy-components">
<h3>Copy Components<a class="headerlink" href="#copy-components" title="Permalink to this headline">¶</a></h3>
<p><strong>copy components from ion1 to ion2  [ (scale  logN  ref_comp)  tie_z=True/False  tie_b=True/False ]</strong></p>
<blockquote>
<div><p><em>ion1</em> denotes the <em>ion</em> from which to copy components (FeII, CI, etc.).
Components must manually be defined for this ion.</p>
<p><em>ion2</em> denotes the <em>ion</em> to which the components will be copied.
Lines must be defined for this <em>ion</em> using a <code class="docutils literal notranslate"><span class="pre">lines</span></code> statement.</p>
<p>Note – The order is not important. This is inferred from the position of the words <em>to</em> and <em>from</em>.</p>
</div></blockquote>
<p>Optinal arguments:</p>
<blockquote>
<div><p><em>scale</em> : this keyword activates a relative scaling of the pattern of column densities
from the input ion (<em>ion1</em>) to the destination ion (<em>ion2</em>).
The keyword takes two arguments:</p>
<blockquote>
<div><p><em>logN</em> : the desired column density for the reference component</p>
<p><em>ref_comp</em> : the number of the reference component (starting from 0).</p>
<p><em>Note – The default scaling is set to Solar relative abundances for the two elements.</em></p>
</div></blockquote>
<p><em>tie_z</em> : If <em>True</em>, all redshifts for <em>ion2</em> will be tied to those of <em>ion1</em>.
Default is <em>True</em>.</p>
<p><em>tie_b</em> : If <em>True</em>, all <em>b</em>-parameters for <em>ion2</em> will be tied to those of <em>ion1</em>.
Default is <em>True</em>.</p>
</div></blockquote>
<div class="topic">
<p class="topic-title first">Example</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">copy</span> <span class="pre">components</span> <span class="pre">from</span> <span class="pre">FeII</span> <span class="pre">to</span> <span class="pre">SiII</span>&#160; <span class="pre">scale</span> <span class="pre">15.3</span>&#160; <span class="pre">1</span></code></dt>
<dd>This will copy the component structure defined for FeII to SiII
and the logarithm of the column density of the 2nd component will be set to 15.3
while keeping the relative abundance pattern as defined for FeII.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">copy</span> <span class="pre">components</span> <span class="pre">to</span> <span class="pre">CII</span> <span class="pre">from</span> <span class="pre">FeII</span>&#160; <span class="pre">tie_b=False</span></code></dt>
<dd>This will copy components already defined for FeII to CII,
however, the broadening parameters are not fixed to those of FeII.
The initial value for log(N) for CII will be set using the Solar
relative abundance of carbon and iron.</dd>
</dl>
</div>
</div>
<div class="section" id="delete-components">
<h3>Delete Components<a class="headerlink" href="#delete-components" title="Permalink to this headline">¶</a></h3>
<p><strong>delete component  number  [from] ion</strong></p>
<blockquote>
<div><p><em>number</em> gives the number of the component to delete (starting from 0).</p>
<p><em>ion</em> gives the ion from which to delete the given component.</p>
<p>Note – the word ‘from’ before the ion is optional.</p>
</div></blockquote>
<p>This function is useful for removing components that were defined using a <a class="reference internal" href="#copy-components">copy components</a>
statement, if not all components for the new ion should be fitted.
For components defined via the explicit component statement,
a component can simply be commented out (using ‘#’) to delete it from the fit.</p>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Suppose that FeII has 5 components defined and the same component structure has been copied to
ZnII; However, the zinc lines are much weaker and therefore only 4 components can be
constrained for ZnII. This would be defined as follows:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">component</span> <span class="pre">FeII</span>&#160; <span class="pre">2.0456</span>&#160; <span class="pre">15.5</span>&#160; <span class="pre">14.6</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">component</span> <span class="pre">FeII</span>&#160; <span class="pre">2.0469</span>&#160; <span class="pre">11.5</span>&#160; <span class="pre">14.8</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">component</span> <span class="pre">FeII</span>&#160; <span class="pre">2.0482</span>&#160; <span class="pre">17.5</span>&#160; <span class="pre">13.3</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">component</span> <span class="pre">FeII</span>&#160; <span class="pre">2.0489</span>&#160; <span class="pre">14.0</span>&#160; <span class="pre">14.3</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">component</span> <span class="pre">FeII</span>&#160; <span class="pre">2.0495</span>&#160; <span class="pre">13.5</span>&#160; <span class="pre">14.7</span></code></div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">copy</span> <span class="pre">components</span> <span class="pre">from</span> <span class="pre">FeII</span> <span class="pre">to</span> <span class="pre">ZnII</span>&#160; <span class="pre">scale</span> <span class="pre">13.2</span>&#160; <span class="pre">0</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">delete</span> <span class="pre">component</span> <span class="pre">1</span> <span class="pre">from</span> <span class="pre">ZnII</span></code></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="continuum-normalization">
<h3>Continuum Normalization<a class="headerlink" href="#continuum-normalization" title="Permalink to this headline">¶</a></h3>
<p><strong>C_order = __</strong></p>
<p>This keyword indicates the max order of Chebyshev polynomials to include for the continuum model. The default is 1, i.e., a straight line fit. The continuum is automatically optimized together with the line fitting.
By giving a negative order, the code will ask to manually normalize the fitting regions using the specified norm_method, see below.</p>
<p><strong>norm_method = { ‘linear’  or  ‘spline’ }</strong></p>
<p>The norm_method specifies how to manually normalize the fitting regions. Before fitting, each region will pop up and instructions will be given to normalize the data.
For ‘linear’, the user must specify a continuum region on the left of the absorption line (by clicking on the left and right boundaries of this continuum region) and similarly on the right side of the absoption line. The continuum is fitted using a straight line fit.
For ‘spline’, the user can select a range of points which will be fitted with a spline in order to create a curved continuum model.</p>
</div>
<div class="section" id="mask">
<h3>Mask<a class="headerlink" href="#mask" title="Permalink to this headline">¶</a></h3>
<p><strong>mask  [ line_tags ]</strong></p>
<p>Optional arguments:</p>
<blockquote>
<div><em>line_tags</em> : either a single line identifier (e.g., ‘FeII_2374’) or a space separated list
of identifiers for which to run the interactive masking procedure.
Default is to define masks for all lines.</div></blockquote>
<p>This statement allows the user to define mask interactively for all lines or individual lines.</p>
<p>Note – The mask is an exclusion mask, so pixels that are defined in the mask, are <em>not</em> fitted.</p>
<div class="topic">
<p class="topic-title first">Example</p>
<p>Show image of masking process.</p>
</div>
</div>
<div class="section" id="clear-mask">
<h3>Clear mask<a class="headerlink" href="#clear-mask" title="Permalink to this headline">¶</a></h3>
<p><strong>clear mask</strong></p>
<p>If this statement is present in the parameter file, the masks for all fitting regions will be reset
before eventually defining new masks.</p>
</div>
<div class="section" id="abundance">
<h3>Abundance<a class="headerlink" href="#abundance" title="Permalink to this headline">¶</a></h3>
<p><strong>abundance</strong></p>
<p>When this keword is present in the parameter file (except in the dataset_name), the total abundances for each ion will be printed to the terminal output.</p>
</div>
<div class="section" id="metallicity">
<h3>Metallicity<a class="headerlink" href="#metallicity" title="Permalink to this headline">¶</a></h3>
<p><strong>metallicity  logNHI  err_logNHI</strong></p>
<blockquote>
<div><p><em>logNHI</em> gives the logarithm of the column density of neutral hydrogen in units of cm<sup>-2</sup>.</p>
<p><em>err_logNHI</em> gives the associated uncertainty on the logarithm of the column density of neutral hydrogen.</p>
</div></blockquote>
<p>When this statement is present, the best-fit total abundances for the defined ions in the dataset
will be converted to metallicities for each ion, that is, the abundance ratios of the given ions
to neutral hydrogen relative to Solar abundances from
<a class="reference external" href="https://ui.adsabs.harvard.edu/#abs/2009ARA&amp;A..47..481A/abstract">Asplund et al. (2009)</a>
are calculated.</p>
</div>
<div class="section" id="reset-fit-regions">
<h3>Reset Fit Regions<a class="headerlink" href="#reset-fit-regions" title="Permalink to this headline">¶</a></h3>
<p><strong>reset  [ line_tags ]</strong></p>
<p>When this keword is present in the parameter file, the data for each region will be reset to the raw input data. This is used to update the continuum fitting so the code uses the raw data instead of the already normalized data in the regions. Note: This does not clear the spectral mask!</p>
</div>
<div class="section" id="resolution">
<h3>Resolution<a class="headerlink" href="#resolution" title="Permalink to this headline">¶</a></h3>
<p><strong>resolution  res  [ line_tag ]</strong></p>
<blockquote>
<div><p><em>res</em> gives the desired spectral resolution in km/s.</p>
<p>Note – this will change the resolution for <em>all</em> the loaded spectra.</p>
</div></blockquote>
<p>Optional arguments:</p>
<blockquote>
<div><em>line_tag</em> : specifies the line in a fitting region whose resolution should be changed.
Default is all.</div></blockquote>
<div class="red admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Changing the spectral resolution in the <a class="reference internal" href="#data">data</a> statement will not update the spectral
resolution in the fit, unless the dataset is overwritten (run <code class="docutils literal notranslate"><span class="pre">VoigtFit</span> <span class="pre">-f</span></code>) or
deleted.</p>
</div>
</div>
<div class="section" id="change-output-systemic-redshift">
<h3>Change Output Systemic Redshift<a class="headerlink" href="#change-output-systemic-redshift" title="Permalink to this headline">¶</a></h3>
<p><strong>systemic = value</strong></p>
<p>This keyword defines how to update the systemic redshift after fitting.
Possible input values: ‘auto’, ‘none’ or  [num, ‘ion’]</p>
<p>Default behaviour is ‘none’: The systemic redshift will not be updated after fitting and the given systemic redshift (z_sys) will be used.</p>
<p>If systemic is set to ‘auto’ the systemic redshift will be set to the redshift of the strongest component. The element used to identify the strongest component will be selected automatically, priority will be given to elements in the following order: ’FeII’ or ‘SiII’. If none of these are present, the first line in the dataset will be used. Warning: This may result in unexpected behaviour!</p>
<p>By giving an integer number (num) and an ion (separated by a comma), the user can force the systemic redshift to be set to that given component of the given ion after the fit has converged. Note that the components are 0-indexed, i.e., the first component is 0. If num is set to -1 then the last component of the given ion is used.</p>
<p>Example:
systemic  2   FeII</p>
<blockquote>
<div>this defines the systemic redshift as the 3rd component of FeII</div></blockquote>
<dl class="docutils">
<dt>systemic  -1  SiII</dt>
<dd>this defines the systemic redshift as the last component of SiII</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">VoigtFit Parameter Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-basics">The Basics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#name">Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#save">Save</a></li>
<li class="toctree-l3"><a class="reference internal" href="#z-sys">z_sys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data">Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lines">Lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fine-structure-lines">Fine-structure Lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-molecules">Add Molecules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-components">Add Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interactive-components">Interactive Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-components">Copy Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-components">Delete Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#continuum-normalization">Continuum Normalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mask">Mask</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clear-mask">Clear mask</a></li>
<li class="toctree-l3"><a class="reference internal" href="#abundance">Abundance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#metallicity">Metallicity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reset-fit-regions">Reset Fit Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resolution">Resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#change-output-systemic-redshift">Change Output Systemic Redshift</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">VoigtFit Interface</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="physical_model_results.html">Results of Physical Model</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Jens-Kristian Krogager.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/documentation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>